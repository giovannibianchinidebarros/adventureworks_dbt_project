version: 2

models:

  - name: stg_person__business_entity_contact
    description: "Tabela de contatos associados às pessoas"
    columns:

      - name: fk_business_entity_id
        description: "ID. relacionado com stg_person__business_entity.pk_business_entity_id"
        tests:
          - not_null
          - relationships:
              field: pk_business_entity_id
              to: ref('stg_person__business_entity')

      - name: person_id
        description: "ID da pessoa"
        tests:
          - not_null
          - relationships:
              to: ref('persons')
              field: person_id

      - name: contact_type_id
        description: "ID do tipo de contato"
        tests:
          - not_null
          - relationships:
              to: ref('contact_types')
              field: contact_type_id

      - name: row_guid
        description: "GUID único do registro"
      - name: modified_date
        description: "Data da última modificação"
        tests:
          - not_null